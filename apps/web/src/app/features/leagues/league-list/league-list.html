<h1>Leagues</h1>

<button mat-raised-button color="primary" (click)="addLeague()">Add League</button>

<table mat-table [dataSource]="leagues" class="mat-elevation-z8 league-table">

    <!-- Logo Column -->
    <ng-container matColumnDef="logoUrl">
        <th mat-header-cell *matHeaderCellDef>Logo</th>
        <td mat-cell *matCellDef="let league">
            <img *ngIf="league.logoUrl" [src]="league.logoUrl" alt="logo"
                style="height:32px;max-width:64px;object-fit:contain;" />
        </td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let league">{{ league.name }}</td>
    </ng-container>

    <!-- Nation Column -->
    <ng-container matColumnDef="nation">
        <th mat-header-cell *matHeaderCellDef>Nation</th>
        <td mat-cell *matCellDef="let league">{{ league.nation?.name }}</td>
    </ng-container>


    <!-- Description Column -->
    <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef>Description</th>
        <td mat-cell *matCellDef="let league">{{ league.description }}</td>
    </ng-container>

    <!-- Actions Column -->
    <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let league">
            <button mat-button color="accent" (click)="editLeague(league)">Edit</button>
            <button mat-button color="primary" (click)="goToSeasons(league)">Seasons</button>
        </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>