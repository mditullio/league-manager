<h1>{{ isNew ? 'Add Nation' : 'Edit Nation' }}</h1>

<form [formGroup]="form" (ngSubmit)="save()" class="nation-form">

    @if (!isNew) {
        <div style="width: 100%; display: flex;">
            <mat-form-field appearance="outline">
                <mat-label>ID</mat-label>
                <input matInput [value]="nationId" readonly />
            </mat-form-field>
        </div>
    }

    <mat-form-field appearance="outline">
        <mat-label>Name</mat-label>
        <input matInput formControlName="name" required />
    </mat-form-field>

    <mat-form-field appearance="outline">
        <mat-label>Code</mat-label>
        <input matInput formControlName="code" />
    </mat-form-field>

    <mat-form-field appearance="outline">
        <mat-label>Flag Emoji</mat-label>
        <input matInput formControlName="flagEmoji" />
    </mat-form-field>

    <mat-form-field appearance="outline">
        <mat-label>Flag URL</mat-label>
        <input matInput formControlName="flagUrl" />
    </mat-form-field>

    <div class="flag-preview" *ngIf="form.value.flagUrl"
        style="width: 100%; display: flex; align-items: center; margin-top: 8px;">
        <label>Flag Preview:</label>
        <img [src]="form.value.flagUrl" alt="flag" style="height: 32px;" />
    </div>

    <div class="form-actions"
        style="width: 100%; display: flex; gap: 16px; margin-top: 24px; justify-content: flex-start;">
        <button mat-raised-button color="primary" type="submit" [disabled]="form.invalid || loading">Save</button>
        <button mat-button type="button" (click)="cancel()">Cancel</button>
    </div>
</form>